## API del juego hunde la flota

## Objetivo
Diseñar una **API REST** para el juego “Hundir la flota” que permita gestionar **partidas** entre jugadores (usuarios registrados o invitados), sus **cuadrículas 10x10**, la **colocación de barcos** cumpliendo reglas (horizontal/vertical y separación mínima de 1 casilla), el **registro de disparos**, y la **consulta del estado completo** de una partida (jugadores, barcos, disparos, ganador, etc.).  


| Método HTTP | URI | Query Params | Cuerpo de la Petición | Cuerpo de la Respuesta | Códigos de Respuesta |
|-------------|-----|-------------|------------------------|------------------------|----------------------|
| POST | `/v1/users` | N/A | **Crear usuario**<br><pre>{ "nombre": "Ana Pérez", "email": "ana@test.com" }</pre> | <pre>{ "id": "usr_01", "nombre": "Ana Pérez", "email": "ana@test.com", "creadoEn": "2026-02-25T21:00:00-05:00" }</pre> | **201 Created**<br>**400 Bad Request**<br>**409 Conflict**<br>**500 Internal Server Error** |
| GET | `/v1/users/{userId}` | N/A | N/A | <pre>{ "id": "usr_01", "nombre": "Ana Pérez", "email": "ana@test.com", "creadoEn": "2026-02-25T21:00:00-05:00" }</pre> | **200 OK**<br>**404 Not Found**<br>**500 Internal Server Error** |
| DELETE | `/v1/users/{userId}` | N/A | N/A | <pre>{ "mensaje": "Usuario eliminado." }</pre> | **200 OK**<br>**404 Not Found**<br>**409 Conflict**<br>**500 Internal Server Error** |
| POST | `/v1/games` | N/A | **Crear partida** (2 jugadores: registrados o invitados)<br><pre>{ "players": [ { "tipo": "REGISTRADO", "userId": "usr_01" }, { "tipo": "INVITADO", "alias": "Invitado-1" } ] }</pre> | <pre>{ "id": "game_01", "status": "CREADA", "players": [ { "id": "p1", "tipo": "REGISTRADO", "userId": "usr_01", "ready": false }, { "id": "p2", "tipo": "INVITADO", "alias": "Invitado-1", "ready": false } ], "creadoEn": "2026-02-25T21:05:00-05:00" }</pre> | **201 Created**<br>**400 Bad Request**<br>**404 Not Found**<br>**500 Internal Server Error** |
| PATCH | `/v1/games/{gameId}` | N/A | **Modificar datos de partida**<br><pre>{ "status": "INICIADA" }</pre> | <pre>{ "id": "game_01", "status": "INICIADA", "startedAt": "2026-02-25T21:10:00-05:00" }</pre> | **200 OK**<br>**400 Bad Request**<br>**404 Not Found**<br>**409 Conflict**<br>**500 Internal Server Error** |
| DELETE | `/v1/games/{gameId}` | N/A | N/A | <pre>{ "mensaje": "Partida eliminada." }</pre> | **200 OK**<br>**404 Not Found**<br>**500 Internal Server Error** |
| GET | `/v1/games/{gameId}` | N/A | N/A | **Consultar todos los datos de la partida**<br><pre>{ "id": "game_01", "status": "INICIADA", "players": [ { "id": "p1", "ready": true }, { "id": "p2", "ready": true } ], "turnoDe": "p1", "winnerPlayerId": null, "ships": { "p1": [ { "id": "s1", "size": 4, "orientation": "H", "cells": ["A1","A2","A3","A4"], "hits": [] } ], "p2": [] }, "shots": [ { "id": "sh_01", "fromPlayerId": "p1", "toPlayerId": "p2", "cell": "B7", "result": "AGUA", "createdAt": "2026-02-25T21:12:00-05:00" } ] }</pre> | **200 OK**<br>**404 Not Found**<br>**500 Internal Server Error** |
| POST | `/v1/games/{gameId}/players/{playerId}/ships` | N/A | **Añadir barco**<br><pre>{ "tipo": "PORTAAVIONES_4", "orientation": "H", "cells": ["A1","A2","A3","A4"] }</pre> | <pre>{ "id": "ship_01", "tipo": "PORTAAVIONES_4", "size": 4, "orientation": "H", "cells": ["A1","A2","A3","A4"], "hits": [] }</pre> | **201 Created**<br>**400 Bad Request**<br>**404 Not Found**<br>**409 Conflict**<br>**422 Unprocessable Entity**<br>**500 Internal Server Error** |
| DELETE | `/v1/games/{gameId}/players/{playerId}/ships/{shipId}` | N/A | N/A | <pre>{ "mensaje": "Barco eliminado." }</pre> | **200 OK**<br>**404 Not Found**<br>**409 Conflict**<br>**500 Internal Server Error** |
| GET | `/v1/games/{gameId}/players/{playerId}/ships` | N/A | N/A | <pre>{ "items": [ { "id": "ship_01", "tipo": "PORTAAVIONES_4", "orientation": "H", "cells": ["A1","A2","A3","A4"], "hits": [] } ] }</pre> | **200 OK**<br>**404 Not Found**<br>**500 Internal Server Error** |
| POST | `/v1/games/{gameId}/shots` | N/A | **Registrar disparo**<br><pre>{ "fromPlayerId": "p1", "cell": "B7" }</pre> | <pre>{ "id": "sh_01", "fromPlayerId": "p1", "toPlayerId": "p2", "cell": "B7", "result": "AGUA", "turnoDe": "p2", "createdAt": "2026-02-25T21:12:00-05:00" }</pre> | **201 Created**<br>**400 Bad Request**<br>**404 Not Found**<br>**409 Conflict**<br>**422 Unprocessable Entity**<br>**500 Internal Server Error** |
